(this.webpackJsonpasm1=this.webpackJsonpasm1||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},159:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s.n(a),n=s(19),c=s.n(n),i=(s(97),s(98),s(99),s(100),s(14)),l=s(15),o=s(17),d=s(16),j=(s(101),s(12)),m=s(3),h=s(7),f=s(1),b=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={isNavOpen:!1},a.toggleNav=a.toggleNav.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return Object(f.jsx)(r.a.Fragment,{children:Object(f.jsx)(m.v,{dark:!0,expand:"lg",className:"fixed-top",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(m.x,{onClick:this.toggleNav}),Object(f.jsxs)(m.w,{className:"mr-auto d-flex align-items-center",href:"/",children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{className:"fa fa-id-card fa-2x","aria-hidden":"true"})}),Object(f.jsx)("h5",{className:"d-inline-block mb-0 mx-2",children:"Staff Management App"})]}),Object(f.jsx)(m.i,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(f.jsxs)(m.t,{navbar:!0,children:[Object(f.jsx)(m.u,{children:Object(f.jsxs)(h.c,{className:"nav-link",to:"/staff",children:[Object(f.jsx)("span",{className:"fa fa-users fa-lg"})," Staff"]})}),Object(f.jsx)(m.u,{children:Object(f.jsxs)(h.c,{className:"nav-link",to:"/department",children:[Object(f.jsx)("span",{className:"fa fa-th fa-lg"})," Department"]})}),Object(f.jsx)(m.u,{children:Object(f.jsxs)(h.c,{className:"nav-link",to:"/salary",children:[Object(f.jsx)("span",{className:"fa fa-money fa-lg"})," Salary"]})})]})})]})})})}}]),s}(a.Component),u=s(6),O=function(){return Object(f.jsxs)("div",{className:"col-12 text-center",children:[Object(f.jsx)("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(f.jsx)("p",{children:Object(f.jsx)("b",{children:"Loading..."})})]})},p=s.p+"static/media/HarryPotter.81e9dbae.jpg",x=function(e){return e&&e.length},v=function(e){return function(t){return!t||t.length<=e}},g=function(e){return!e||Number(e)>0},N=function(e){return!e||!isNaN(Number(e))},y=function(e){var t=new Date,s=String(e).split("-"),a=new Date(s[0],s[1]-1,s[2]);return!e||t.getTime()>a.getTime()},S=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={isModalOpen:!1,isDropdownOpen:!1},a.toggleModal=a.toggleModal.bind(Object(j.a)(a)),a.toggleDropdown=a.toggleDropdown.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"toggleDropdown",value:function(){this.setState({isDropdownOpen:!this.state.isDropdownOpen})}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleModifyStaff",value:function(e){var t;switch(console.log(e),this.toggleModal(),e.department){case"Sale":t="Dept01";break;case"HR":t="Dept02";break;case"Marketing":t="Dept03";break;case"IT":t="Dept04";break;case"Finance":t="Dept05"}this.props.fetchUpdateStaffs(this.props.staff.id,e.name,e.doB,Number(e.salaryScale),e.startDate,t,Number(e.annualLeave),Number(e.overTime))}},{key:"render",value:function(){var e,t=this;return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsxs)("div",{className:"position-relative",children:[Object(f.jsxs)(m.j,{isOpen:this.state.isDropdownOpen,toggle:this.toggleDropdown,className:"dropdown",size:"sm",children:[Object(f.jsx)(m.m,{color:"success",children:Object(f.jsx)("i",{className:"fa fa-align-justify","aria-hidden":"true"})}),Object(f.jsxs)(m.l,{right:!0,className:"py-0",children:[Object(f.jsx)(m.k,{className:"p-0 text-center",title:"Modify",onClick:this.toggleModal,children:Object(f.jsx)("div",{className:"bg-warning",children:Object(f.jsx)("i",{className:"fa fa-pencil fa-2x","aria-hidden":"true"})})}),Object(f.jsx)(m.k,{className:"p-0 text-center",title:"Delete",onClick:function(){return t.props.handleDelete(t.props.staff.id)},children:Object(f.jsx)("div",{className:"bg-danger",children:Object(f.jsx)("i",{className:"fa fa-times fa-2x","aria-hidden":"true"})})})]})]}),Object(f.jsx)(h.b,{to:"/staff/".concat(this.props.staff.id),children:Object(f.jsxs)(m.d,{className:"text-center",children:[Object(f.jsx)(m.e,{src:p,alt:this.props.staff.name}),Object(f.jsx)(m.g,{className:"mt-2",children:this.props.staff.name})]})})]}),Object(f.jsxs)(m.q,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(f.jsx)(m.s,{toggle:this.toggleModal,children:"Modify Staff"}),Object(f.jsx)(m.r,{children:Object(f.jsxs)(u.Form,{model:"staffmodifyform",onSubmit:function(e){t.handleModifyStaff(e)},children:[Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"name",xs:4,md:3,children:"Name:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".name",id:"name",name:"name",placeholder:this.props.staff.name,defaultValue:"",className:"form-control",validators:{required:x,minLength:(e=3,function(t){return!t||t.length>=e}),maxLength:v(20)}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".name",show:"touched",messages:{required:"Name should not be empty.",minLength:" Name must be greater than 2 characters.",maxLength:" Name must be less than 20 characters."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"doB",xs:4,md:3,children:"Day of Birth:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control,{type:"date",model:".doB",id:"doB",name:"doB",defaultValue:"",className:"form-control",validators:{required:x,compareCurrentDate:y}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".doB",show:"touched",messages:{required:"Day of birth should not be empty.",compareCurrentDate:" Day of birth should be smaller than current day."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"startDate",xs:4,md:3,children:"Start Date:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control,{type:"date",model:".startDate",id:"startDate",name:"startDate",defaultValue:"",className:"form-control",validators:{required:x,compareCurrentDate:y}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".startDate",show:"touched",messages:{required:"Start Day should not be empty.",compareCurrentDate:"Start Day should be smaller than Current Day."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"department",xs:4,md:3,children:"Department:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsxs)(u.Control.select,{model:".department",id:"department",name:"department",className:"form-select",validators:{required:x},children:[Object(f.jsx)("option",{defaultValue:!0,hidden:!0,children:"--Department--"}),Object(f.jsx)("option",{children:"Sale"}),Object(f.jsx)("option",{children:"HR"}),Object(f.jsx)("option",{children:"Marketing"}),Object(f.jsx)("option",{children:"IT"}),Object(f.jsx)("option",{children:"Finance"})]}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".department",show:"touched",messages:{required:"Please choose one from departments above."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"salaryScale",xs:4,md:3,children:"Salary Scale:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".salaryScale",id:"salaryScale",name:"salaryScale",placeholder:this.props.staff.salaryScale,defaultValue:"",className:"form-control",validators:{required:x,positiveValue:g,isNumber:N}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".salaryScale",show:"touched",messages:{required:" Salary Scale should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number"}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"annualLeave",xs:4,md:3,children:"Annual Leave:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".annualLeave",id:"annualLeave",name:"annualLeave",placeholder:this.props.staff.annualLeave,defaultValue:"",className:"form-control",validators:{required:x,positiveValue:g,isNumber:N}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".annualLeave",show:"touched",messages:{required:" Annual Leave should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number"}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"overTime",xs:4,md:3,children:"Over Time:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".overTime",id:"overTime",name:"overTime",placeholder:this.props.staff.overTime,defaultValue:"",className:"form-control",validators:{required:x,positiveValue:g,isNumber:N}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".overTime",show:"touched",messages:{required:" Over Time should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number."}})]})]}),Object(f.jsx)(m.y,{className:"form-group w-25 mx-auto my-1",children:Object(f.jsx)(m.c,{type:"submit",value:"submit",color:"primary",children:Object(f.jsx)("b",{children:"MODIFY STAFF"})})})]})})]})]})}}]),s}(a.Component),D=function(e){return e&&e.length},w=function(e){return function(t){return!t||t.length<=e}},F=function(e){return!e||Number(e)>0},L=function(e){return!e||!isNaN(Number(e))},T=function(e){var t=new Date,s=String(e).split("-"),a=new Date(s[0],s[1]-1,s[2]);return!e||t.getTime()>a.getTime()},k=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={sortOrder:"nameAscending",findStaffName:"",isModalOpen:!1},a.handleSortChange=a.handleSortChange.bind(Object(j.a)(a)),a.handleSortList=a.handleSortList.bind(Object(j.a)(a)),a.handleSearch=a.handleSearch.bind(Object(j.a)(a)),a.toggleModal=a.toggleModal.bind(Object(j.a)(a)),a.handleAddStaff=a.handleAddStaff.bind(Object(j.a)(a)),a.handleDeleteStaff=a.handleDeleteStaff.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"handleSortChange",value:function(e){this.setState({sortOrder:e.target.value})}},{key:"handleSortList",value:function(e){return"nameAscending"===this.state.sortOrder?e.sort((function(e,t){return e.name.split(" ").at(-1).localeCompare(t.name.split(" ").at(-1),"vi")})):e.sort((function(e,t){return t.name.split(" ").at(-1).localeCompare(e.name.split(" ").at(-1),"vi")}))}},{key:"handleSearch",value:function(e){this.setState({findStaffName:this.findstaff.value}),e.preventDefault()}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleAddStaff",value:function(e){var t;switch(console.log(this.props.staffs.staffs.length),this.toggleModal(),e.department){case"Sale":t="Dept01";break;case"HR":t="Dept02";break;case"Marketing":t="Dept03";break;case"IT":t="Dept04";break;case"Finance":t="Dept05"}this.props.postStaff(e.name,e.doB,Number(e.salaryScale),e.startDate,t,Number(e.annualLeave),Number(e.overTime)),this.props.resetStaffInforForm()}},{key:"handleDeleteStaff",value:function(e){window.confirm("Are you sure you want to delete this Staff")?(this.props.fetchDelStaffs(e),console.log("Staff was deleted to the database.")):console.log("Staff was not deleted to the database.")}},{key:"render",value:function(){var e=this,t=this.handleSortList(this.props.staffs.staffs.slice());""!==this.state.findStaffName&&(t=t.filter((function(t){return t.name.toLowerCase().includes(e.state.findStaffName.toLowerCase())})));var s,a=t.map((function(t){return Object(f.jsx)("div",{className:"col-6 col-sm-4 col-lg-2 my-2 p-2",children:Object(f.jsx)(S,{staff:t,handleDelete:e.handleDeleteStaff,resetStaffModifyForm:e.props.resetStaffModifyForm,fetchUpdateStaffs:e.props.fetchUpdateStaffs})},t.id)}));return this.props.staffs.isLoading?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(O,{})})]}):this.props.staffs.errMess?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:this.props.staffs.errMess})})})]}):Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12 mt-2",children:[Object(f.jsx)("h3",{children:"Staff"}),Object(f.jsx)("hr",{})]})}),Object(f.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(f.jsxs)("div",{className:"col-12 col-sm-12 col-lg-4 d-flex align-items-center",children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{children:"SortStaff:"})}),Object(f.jsxs)("select",{onChange:this.handleSortChange,className:"mx-2",children:[Object(f.jsx)("option",{defaultValue:!0,hidden:!0,children:"Sort by"}),Object(f.jsx)("option",{value:"nameAscending",children:"Name: Ascending"}),Object(f.jsx)("option",{value:"nameDescending",children:"Name: Descending"})]})]}),Object(f.jsx)("div",{className:"col-12 col-sm-8 col-lg-5 my-2",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(m.o,{htmlFor:"findstaff",children:Object(f.jsx)("i",{children:"FindStaff:"})}),Object(f.jsxs)("div",{className:"d-inline-block",children:[Object(f.jsx)(m.n,{type:"text",id:"findstaff",name:"findstaff",className:"w-75 d-inline-block mx-1",innerRef:function(t){return e.findstaff=t}}),Object(f.jsx)(m.c,{type:"button",value:"button",color:"primary",className:"px-2 mb-1 mx-2",onClick:this.handleSearch,children:Object(f.jsx)("span",{className:"fa fa-search fa-lg"})})]})]})}),Object(f.jsx)("div",{className:"col-12 col-sm-4 col-lg-3 d-flex justifycontentend",children:Object(f.jsxs)(m.c,{onClick:this.toggleModal,color:"primary",className:"mb-1 mx-2",children:[Object(f.jsx)("span",{className:"fa fa-plus fa-lg"})," ",Object(f.jsx)("b",{children:"ADD STAFF"})]})})]}),Object(f.jsxs)(m.q,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(f.jsx)(m.s,{toggle:this.toggleModal,children:"Add Staff"}),Object(f.jsx)(m.r,{children:Object(f.jsxs)(u.Form,{model:"staffinfor",onSubmit:function(t){e.handleAddStaff(t)},children:[Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"name",xs:4,md:3,children:"Name:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".name",id:"name",name:"name",defaultValue:"",className:"form-control",validators:{required:D,minLength:(s=3,function(e){return!e||e.length>=s}),maxLength:w(20)}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".name",show:"touched",messages:{required:"Name should not be empty.",minLength:" Name must be greater than 2 characters.",maxLength:" Name must be less than 20 characters."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"doB",xs:4,md:3,children:"Day of Birth:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control,{type:"date",model:".doB",id:"doB",name:"doB",defaultValue:"",className:"form-control",validators:{required:D,compareCurrentDate:T}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".doB",show:"touched",messages:{required:"Day of birth should not be empty.",compareCurrentDate:" Day of birth should be smaller than current day."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"startDate",xs:4,md:3,children:"Start Date:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control,{type:"date",model:".startDate",id:"startDate",name:"startDate",defaultValue:"",className:"form-control",validators:{required:D,compareCurrentDate:T}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".startDate",show:"touched",messages:{required:"Start Day should not be empty.",compareCurrentDate:"Start Day should be smaller than Current Day."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"department",xs:4,md:3,children:"Department:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsxs)(u.Control.select,{model:".department",id:"department",name:"department",className:"form-select",validators:{required:D},children:[Object(f.jsx)("option",{defaultValue:!0,hidden:!0,children:"--Department--"}),Object(f.jsx)("option",{children:"Sale"}),Object(f.jsx)("option",{children:"HR"}),Object(f.jsx)("option",{children:"Marketing"}),Object(f.jsx)("option",{children:"IT"}),Object(f.jsx)("option",{children:"Finance"})]}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".department",show:"touched",messages:{required:"Please choose one from departments above."}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"salaryScale",xs:4,md:3,children:"Salary Scale:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".salaryScale",id:"salaryScale",name:"salaryScale",defaultValue:"",className:"form-control",validators:{required:D,positiveValue:F,isNumber:L}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".salaryScale",show:"touched",messages:{required:" Salary Scale should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number"}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"annualLeave",xs:4,md:3,children:"Annual Leave:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".annualLeave",id:"annualLeave",name:"annualLeave",defaultValue:"",className:"form-control",validators:{required:D,positiveValue:F,isNumber:L}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".annualLeave",show:"touched",messages:{required:" Annual Leave should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number"}})]})]}),Object(f.jsxs)(m.y,{className:"form-group",children:[Object(f.jsx)(m.o,{htmlFor:"overTime",xs:4,md:3,children:"Over Time:"}),Object(f.jsxs)(m.h,{xs:8,md:9,children:[Object(f.jsx)(u.Control.text,{model:".overTime",id:"overTime",name:"overTime",defaultValue:"",className:"form-control",validators:{required:D,positiveValue:F,isNumber:L}}),Object(f.jsx)(u.Errors,{className:"text-danger",model:".overTime",show:"touched",messages:{required:" Over Time should not be empty.",positiveValue:" Salary Scale should be positive.",isNumber:" Salary Scale should be a number."}})]})]}),Object(f.jsx)(m.y,{className:"form-group w-25 mx-auto my-1",children:Object(f.jsx)(m.c,{type:"submit",value:"submit",color:"primary",children:Object(f.jsx)("b",{children:"ADD STAFF"})})})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("h5",{children:["Number of Staff(s): ",a.length]}),Object(f.jsx)("div",{className:"row",children:a})]})}}]),s}(a.Component),M=s(66),A=s.n(M),C=s(30);function E(e){var t=e.staff,s=e.department;return Object(f.jsx)(m.p,{className:"mb-3",children:Object(f.jsxs)(C.FadeTransform,{in:!0,transformProps:{exitTransform:"scale(0.1) translateY(-50%)"},children:[Object(f.jsx)("div",{className:"col-12 col-sm-3 col-md-4 d-inline-block position-relative align-top m-0",children:Object(f.jsx)(m.p,{children:Object(f.jsx)(m.p,{width:"100%",object:!0,src:t.image,alt:t.name,className:"top mx-auto text-center"})})}),Object(f.jsx)("div",{className:"col-12 col-sm-9 col-md-8 d-inline-block px-3 pt-2 m-0",children:Object(f.jsxs)(m.p,{body:!0,children:[Object(f.jsx)(m.p,{heading:!0,children:t.name}),Object(f.jsxs)("p",{children:["Day of Birth: ",A()(t.doB,"dd, mm, yyyy")]}),Object(f.jsxs)("p",{children:["Start Day: ",A()(t.startDay,"dd, mm, yyyy")]}),Object(f.jsxs)("p",{children:["Department: ",s.name]}),Object(f.jsxs)("p",{children:["Annual Leave: ",t.annualLeave]}),Object(f.jsxs)("p",{children:["Over Time: ",t.overTime]})]})})]})})}var I=function(e){return e.isLoading?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(O,{})})]}):e.errMess?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("h3",{children:e.errMess})})]}):null!=e.staff?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)(m.a,{children:[Object(f.jsx)(m.b,{children:Object(f.jsx)(h.b,{to:"/staff",children:"Staff"})}),Object(f.jsx)(m.b,{active:!0,children:e.staff.name})]}),Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("h3",{children:e.staff.name}),Object(f.jsx)("hr",{})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(E,{staff:e.staff,department:e.department})})]}):Object(f.jsx)("div",{children:"Click on staff to see their information"})};function q(e){var t=e.department;return Object(f.jsx)(h.b,{to:"/department/".concat(t.id),children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.g,{className:"m-2",children:t.name}),Object(f.jsxs)(m.f,{className:"py-3 offset-1",children:["Number of Staffs: ",Object(f.jsx)("i",{children:t.numberOfStaff})]})]})})}var V=function(e){var t=e.departments.departments.map((function(e){return Object(f.jsx)("div",{className:"col-12 col-sm-6 col-lg-4 p-2",children:Object(f.jsx)(q,{department:e})},e.id)}));return e.departments.isLoading?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(O,{})})]}):e.departments.errMess?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:e.departments.errMess})})})]}):Object(f.jsxs)("div",{className:"container mb-3",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsxs)("div",{className:"row mt-2",children:[Object(f.jsxs)(m.a,{className:"mx-2",children:[Object(f.jsx)(m.b,{children:Object(f.jsx)(h.b,{to:"/staff",children:"Staff"})}),Object(f.jsx)(m.b,{active:!0,children:"Department"})]}),Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("h3",{children:"Department"}),Object(f.jsx)("hr",{})]})]}),Object(f.jsx)("div",{className:"row",children:t})]})},B=function(e){var t=e.staffindepartment.map((function(e){return Object(f.jsx)("div",{className:"col-6 col-sm-4 col-lg-2 my-2 p-2",children:Object(f.jsx)(C.Fade,{in:!0,children:Object(f.jsxs)(m.d,{className:"text-center",children:[Object(f.jsx)(m.e,{src:p,alt:e.name}),Object(f.jsx)(m.g,{className:"mt-2",children:e.name})]})})},e.id)}));return null!=e.department?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)(m.a,{children:[Object(f.jsx)(m.b,{children:Object(f.jsx)(h.b,{to:"/department",children:"Department"})}),Object(f.jsx)(m.b,{active:!0,children:e.department.name})]}),Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("h3",{children:e.department.name}),Object(f.jsx)("hr",{})]})]}),Object(f.jsx)("div",{className:"row",children:t})]}):Object(f.jsx)("div",{children:"Click on staff to see their information"})};function P(e){var t=e.salaryItem;return Object(f.jsx)(C.FadeTransform,{in:!0,transformProps:{exitTransform:"scale(0.1) translateY(-50%)"},children:Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.g,{className:"text-center mt-2 mb-0",children:t.name}),Object(f.jsx)("hr",{}),Object(f.jsxs)(m.f,{className:"offset-1",children:["Staff ID: ",Object(f.jsx)("i",{children:t.id})]}),Object(f.jsxs)(m.f,{className:"offset-1",children:["Salary Scale: ",Object(f.jsx)("i",{children:t.salaryScale})]}),Object(f.jsxs)(m.f,{className:"offset-1",children:["Overtime: ",Object(f.jsx)("i",{children:t.overTime})]}),Object(f.jsx)("div",{className:"text-center border border-3 mx-4 mb-2",children:Object(f.jsxs)(m.f,{className:"py-1",children:["Salary: ",Object(f.jsxs)("i",{children:[t.salary.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")," VND"]})]})})]})})}var R=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={sortOrder:"idAscending"},a.handleSortChange=a.handleSortChange.bind(Object(j.a)(a)),a.handleSortList=a.handleSortList.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"handleSortChange",value:function(e){this.setState({sortOrder:e.target.value})}},{key:"handleSortList",value:function(e){return"idAscending"===this.state.sortOrder?e.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})):"idDescending"===this.state.sortOrder?e.sort((function(e,t){return e.id<t.id?1:t.id<e.id?-1:0})):"salaryAscending"===this.state.sortOrder?e.sort((function(e,t){return e.salary>t.salary?1:t.salary>e.salary?-1:0})):e.sort((function(e,t){return e.salary<t.salary?1:t.salary<e.salary?-1:0}))}},{key:"render",value:function(){var e=this.handleSortList(this.props.staffsSalary.staffsSalary.slice()).map((function(e){return Object(f.jsx)("div",{className:"col-12 col-sm-6 col-lg-4 p-2",children:Object(f.jsx)(P,{salaryItem:e})},e.id)}));return this.props.staffsSalary.isLoading?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(O,{})})]}):this.props.staffsSalary.errMess?Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h3",{children:this.props.staffsSalary.errMess})})})]}):Object(f.jsxs)("div",{className:"container mb-3",children:[Object(f.jsx)("div",{className:"row height-void"}),Object(f.jsxs)("div",{className:"row mt-2",children:[Object(f.jsxs)(m.a,{className:"mx-2",children:[Object(f.jsx)(m.b,{children:Object(f.jsx)(h.b,{to:"/staff",children:"Staff"})}),Object(f.jsx)(m.b,{active:!0,children:"Salary"})]}),Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("h3",{children:"Salary"}),Object(f.jsx)("hr",{})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{children:"SortStaff: "})}),Object(f.jsxs)("select",{onChange:this.handleSortChange,className:"mb-2",children:[Object(f.jsx)("option",{defaultValue:!0,hidden:!0,children:"Sort by"}),Object(f.jsx)("option",{value:"idAscending",children:"ID: Ascending"}),Object(f.jsx)("option",{value:"idDescending",children:"ID: Descending"}),Object(f.jsx)("option",{value:"salaryAscending",children:"Salary: Ascending"}),Object(f.jsx)("option",{value:"salaryDescending",children:"Salary: Descending"})]}),Object(f.jsx)("hr",{})]})}),Object(f.jsxs)("h5",{children:["Number of Staff(s): ",e.length]}),Object(f.jsx)("div",{className:"row",children:e})]})}}]),s}(a.Component);var _=function(e){return Object(f.jsx)("div",{className:"footer",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:"row justify-content-center",children:[Object(f.jsxs)("div",{className:"col-4 col-sm-2 pr-2",children:[Object(f.jsx)("h5",{children:"Links"}),Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsx)("li",{children:Object(f.jsx)(h.b,{to:"/staff",children:"Staff"})}),Object(f.jsx)("li",{children:Object(f.jsx)(h.b,{to:"/department",children:"Department"})}),Object(f.jsx)("li",{children:Object(f.jsx)(h.b,{to:"/salary",children:"Salary"})})]})]}),Object(f.jsxs)("div",{className:"col-7 col-sm-5",children:[Object(f.jsx)("h5",{children:"Our Address"}),Object(f.jsxs)("address",{children:["121, Clear Water Bay Road",Object(f.jsx)("br",{}),"Clear Water Bay, Kowloon",Object(f.jsx)("br",{}),"HONG KONG",Object(f.jsx)("br",{}),Object(f.jsx)("i",{className:"fa fa-phone fa-lg"}),": +852 1234 5678",Object(f.jsx)("br",{}),Object(f.jsx)("i",{className:"fa fa-fax fa-lg"}),": +852 8765 4321",Object(f.jsx)("br",{}),Object(f.jsx)("i",{className:"fa fa-envelope fa-lg"}),": ",Object(f.jsx)("a",{href:"mailto:confusion@food.net",children:"confusion@food.net"})]})]}),Object(f.jsx)("div",{className:"col-12 col-sm-4 align-self-center my-2",children:Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("a",{className:"btn btn-social-icon btn-google",href:"http://google.com/+",children:Object(f.jsx)("i",{className:"fa fa-google-plus"})}),Object(f.jsx)("a",{className:"btn btn-social-icon btn-facebook",href:"http://www.facebook.com/profile.php?id=",children:Object(f.jsx)("i",{className:"fa fa-facebook"})}),Object(f.jsx)("a",{className:"btn btn-social-icon btn-linkedin",href:"http://www.linkedin.com/in/",children:Object(f.jsx)("i",{className:"fa fa-linkedin"})}),Object(f.jsx)("a",{className:"btn btn-social-icon btn-twitter",href:"http://twitter.com/",children:Object(f.jsx)("i",{className:"fa fa-twitter"})}),Object(f.jsx)("a",{className:"btn btn-social-icon btn-google",href:"http://youtube.com/",children:Object(f.jsx)("i",{className:"fa fa-youtube"})}),Object(f.jsx)("a",{className:"btn btn-social-icon",href:"mailto:",children:Object(f.jsx)("i",{className:"fa fa-envelope-o"})})]})})]}),Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsx)("div",{className:"col-auto",children:Object(f.jsx)("p",{children:"\xa9 Copyright 2021 Staff Management Application"})})})]})})},U=s(21),Y="ADD_STAFF",H="STAFFS_LOADING",G="STAFFS_FAILED",J="ADD_STAFFS",K="DEPARTMENTS_LOADING",W="DEPARTMENTS_FAILED",z="ADD_DEPARTMENTS",Q="STAFFSSALARY_LOADING",X="STAFFSSALARY_FAILED",Z="ADD_STAFFSSALARY",$="DELETESTAFF",ee="UPDATESTAFF",te="https://rjs101xbackend.herokuapp.com/",se=function(e){return{type:$,payload:e}},ae=function(e){return{type:ee,payload:e}},re=function(){return{type:H}},ne=function(e){return{type:G,payload:e}},ce=function(e){return{type:J,payload:e}},ie=function(){return{type:K}},le=function(e){return{type:W,payload:e}},oe=function(e){return{type:z,payload:e}},de=function(){return{type:Q}},je=function(e){return{type:X,payload:e}},me=function(e){return{type:Z,payload:e}},he=s(50),fe=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchStaffs(),this.props.fetchDepartments(),this.props.fetchStaffsSalary()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)(b,{}),Object(f.jsx)(he.TransitionGroup,{children:Object(f.jsx)(he.CSSTransition,{classNames:"page",timeout:300,children:Object(f.jsxs)(h.f,{location:this.props.location,children:[Object(f.jsx)(h.e,{exact:!0,path:"/staff",component:function(){return Object(f.jsx)(k,{staffs:e.props.staffs,postStaff:e.props.postStaff,fetchDelStaffs:e.props.fetchDelStaffs,fetchUpdateStaffs:e.props.fetchUpdateStaffs,resetStaffInforForm:e.props.resetStaffInforForm,resetStaffModifyForm:e.props.resetStaffModifyForm})}}),Object(f.jsx)(h.e,{path:"/staff/:staffId",component:function(t){var s=t.match,a=e.props.staffs.staffs.filter((function(e){return e.id===parseInt(s.params.staffId,10)}))[0];return Object(f.jsx)(I,{staff:a,isLoading:e.props.staffs.isLoading,errMess:e.props.staffs.errMess,department:e.props.departments.departments.filter((function(e){return e.id===a.departmentId}))[0]})}}),Object(f.jsx)(h.e,{exact:!0,path:"/department",component:function(){return Object(f.jsx)(V,{departments:e.props.departments})}}),Object(f.jsx)(h.e,{path:"/department/:departmentId",component:function(t){var s=t.match,a=e.props.departments.departments.filter((function(e){return e.id===s.params.departmentId}))[0];return Object(f.jsx)(B,{staffindepartment:e.props.staffs.staffs.filter((function(e){return e.departmentId===a.id})),department:a})}}),Object(f.jsx)(h.e,{path:"/salary",component:function(){return Object(f.jsx)(R,{staffsSalary:e.props.staffsSalary})}}),Object(f.jsx)(h.d,{to:"/staff"})]})},this.props.location.key)}),Object(f.jsx)(_,{})]})}}]),s}(a.Component),be=Object(h.g)(Object(U.connect)((function(e){return{staffs:e.staffs,departments:e.departments,staffsSalary:e.staffsSalary}}),(function(e){return{postStaff:function(t,s,a,r,n,c,i){return e(function(e,t,s,a,r,n,c){return function(i){var l={name:e,doB:new Date(t).toISOString(),salaryScale:parseFloat(s),startDate:new Date(a).toISOString(),departmentId:r,annualLeave:parseFloat(n),overTime:parseFloat(c),image:"/asset/images/alberto.png"};return fetch(te+"staffs",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){console.log(e),i(ce(e)),i(me(e))})).catch((function(e){console.log("post Staff",e.message),alert("Your staff could not be posted\nError: "+e.message)}))}}(t,s,a,r,n,c,i))},fetchStaffs:function(){e((function(e){return e(re(!0)),fetch(te+"staffs").then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(ce(t))})).catch((function(t){return e(ne(t.message))}))}))},resetStaffInforForm:function(){e(u.actions.reset("staffinfor"))},resetStaffModifyForm:function(){e(u.actions.reset("staffmodifyform"))},fetchDepartments:function(){e((function(e){return e(ie(!0)),fetch(te+"departments").then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(oe(t))})).catch((function(t){return e(le(t.message))}))}))},fetchStaffsSalary:function(){e((function(e){return e(de(!0)),fetch(te+"staffsSalary").then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(me(t))})).catch((function(t){return e(je(t.message))}))}))},fetchDelStaffs:function(t){return e(function(e){return function(t){return fetch(te+"staffs/"+e,{method:"DELETE",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return t(se(e))}))}}(t))},fetchUpdateStaffs:function(t,s,a,r,n,c,i,l){return e(function(e,t,s,a,r,n,c,i){return function(l){var o={id:e,name:t,doB:new Date(s).toISOString(),salaryScale:parseFloat(a),startDate:new Date(r).toISOString(),departmentId:n,annualLeave:parseFloat(c),overTime:parseFloat(i)};return fetch(te+"staffs",{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){console.log(e),l(ae(e)),l(me(e)),alert(t+" has been successfully updated!!!")})).catch((function(e){console.log("Update Staff",e.message),alert("Your staff could not be updated\nError: "+e.message)}))}}(t,s,a,r,n,c,i,l))}}}))(fe)),ue=s(8),Oe=s(22),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,staffs:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:var s=t.payload;return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:null,staffs:e.staffs.concat(s)});case $:case ee:case J:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:null,staffs:t.payload});case H:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!0,errMess:null,staffs:[]});case G:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,departments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:null,departments:t.payload});case K:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!0,errMess:null,departments:[]});case W:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},ve=s(91),ge=s.n(ve),Ne=s(92),ye=s.n(Ne),Se={name:"",doB:"",salaryScale:"",startDate:"",department:"",annualLeave:"",overTime:""},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,staffsSalary:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:null,staffsSalary:t.payload});case Q:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!0,errMess:null,staffsSalary:[]});case X:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},we=Object(Oe.createStore)(Object(Oe.combineReducers)(Object(ue.a)(Object(ue.a)({staffs:pe,departments:xe,staffsSalary:De},Object(u.createForms)({staffinfor:Se})),Object(u.createForms)({staffmodifyform:Se}))),Object(Oe.applyMiddleware)(ge.a,ye.a)),Fe=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(f.jsx)(U.Provider,{store:we,children:Object(f.jsx)(h.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(be,{})})})})}}]),s}(a.Component),Le=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,160)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),a(e),r(e),n(e),c(e)}))};c.a.render(Object(f.jsx)(Fe,{}),document.getElementById("root")),Le()}},[[159,1,2]]]);
//# sourceMappingURL=main.61fd74ff.chunk.js.map